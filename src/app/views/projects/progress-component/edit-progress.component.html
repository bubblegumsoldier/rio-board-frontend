<div class="col col-md-12">
  <p><b>Select current Phase</b></p>
  <div class="d-flex w-100 mb-4" style="flex-wrap: wrap">
    <ng-container *ngFor="let progressItem of this.progressComponent?.progressItems; let i = index;">
      <button class="btn ml-2 mr-2 mt-2" [class.btn-secondary]="i > this.progressComponent.progress" [class.btn-primary]="i <= this.progressComponent.progress" style="flex: 1;" (click)="this.setProgress(i)">{{progressItem.title}}</button>
    </ng-container>
  </div>
  <hr>
  <button class="btn btn-light float-right mr-2 mb-2" (click)="this.onTabAdd()"><i class="fa fa-plus"></i> Add Stage</button>
  <p *ngIf="this.progressComponent.progressItems.length == 0"><b>No stages defined</b></p>
  <tabset active="active">
      <tab *ngFor="let progressItem of this.progressComponent.progressItems; let i = index" heading="{{progressItem.title}}">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Title" [(ngModel)]="progressItem.title">
        </div>
        <div class="input-group mt-4">
          <h2>{{progressItem.title}}</h2>
          <ckeditor (change)="this.descriptionChanged(i, $event)" style="width: 100%; min-height: 200px; margin-bottom: 20px;" [editor]="Editor" [data]="this.defaultDescription"></ckeditor>
        </div>
        <button class="btn btn-danger" (click)="this.onRemove(i)"><i class="fa fa-remove"></i> Remove Stage</button>
      </tab>
  </tabset>

  <div class="row mt-2">
    <div class="col col-md-6">
      <button class="btn btn-secondary" (click)="this.cancel()">Cancel</button>
    </div>
    <div class="col col-md-6 text-right">
      <button class="btn btn-primary" (click)="this.save()"><i class="fa fa-save"></i> Save</button>
    </div>
  </div>

  <div class="alert alert-danger mt-4" role="alert" *ngIf="this.error.length > 0">
  {{this.error}}
  </div>

  <hr>
  <h2 style="text-align: center; width: 100%;">Preview</h2>
</div>
